import{j as e}from"./jsx-runtime.CLpGMVip.js";import{r as n}from"./index.Bt0A1Q69.js";const v={src:"/_astro/Destelleos.DCbe6XTt.png"},b=()=>{const[c,i]=n.useState([]),[h,d]=n.useState([]),[p,x]=n.useState({}),[j,m]=n.useState({});n.useEffect(()=>{fetch("https://insutec.shop/phpmar/categorias.php").then(s=>s.json()).then(s=>{s.success?d(s.data):console.error("No se encontraron categorías")}).catch(s=>{console.error("Error al obtener categorías:",s)})},[]),n.useEffect(()=>{fetch("https://insutec.shop/phpmar/pulseras.php").then(s=>s.json()).then(s=>{s.success?i(s.data):console.error("No se encontraron pulseras")}).catch(s=>{console.error("Error al obtener pulseras:",s)})},[]);const u=s=>{m(r=>({...r,[s]:!r[s]}))},l=(s,r,o)=>{x(t=>{const a=t[s]||0,f=r==="next"?(a+1)%o:(a-1+o)%o;return{...t,[s]:f}})},g=s=>c.filter(r=>r.categoria_id===s);return e.jsx("div",{className:"pulseras-wrapper",children:h.map(s=>{const r=g(s.id),o=p[s.id]||0;return e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"btn",onClick:()=>u(s.id),children:[e.jsx("img",{src:v.src,alt:"Destellos"}),s.nombre]}),j[s.id]&&e.jsxs("div",{className:"slider-wrapper",children:[e.jsx("div",{className:"slider",style:{transform:`translateX(-${o*100}%)`},children:r.map((t,a)=>e.jsxs("div",{className:"slide",children:[e.jsxs("article",{className:"textos__slider",children:[e.jsx("h6",{children:t.nombre}),e.jsxs("span",{children:["$ ",t.precio]})]}),e.jsx("img",{src:t.imagen,alt:t.nombre})]},a))}),e.jsx("button",{className:"prev",onClick:()=>l(s.id,"prev",r.length),children:e.jsxs("svg",{viewBox:"0 0 24 24",children:[e.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e.jsx("path",{d:"M12 21a9 9 0 1 0 0 -18a9 9 0 0 0 0 18"}),e.jsx("path",{d:"M8 12l4 4"}),e.jsx("path",{d:"M8 12h8"}),e.jsx("path",{d:"M12 8l-4 4"})]})}),e.jsx("button",{className:"next",onClick:()=>l(s.id,"next",r.length),children:e.jsxs("svg",{viewBox:"0 0 24 24",children:[e.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e.jsx("path",{d:"M12 3a9 9 0 1 0 0 18a9 9 0 0 0 0 -18"}),e.jsx("path",{d:"M16 12l-4 -4"}),e.jsx("path",{d:"M16 12h-8"}),e.jsx("path",{d:"M12 16l4 -4"})]})})]})]})})})};export{b as default};
